!function(e){var t={};function n(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,o){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)n.d(o,r,function(t){return e[t]}.bind(null,r));return o},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);var o=()=>{const e=document.querySelectorAll("[data-popup]"),t=document.querySelectorAll(".popup");e.forEach(e=>{e.addEventListener("click",e=>{e.preventDefault();let n=e.target;t.forEach(e=>{n.dataset.popup.substr(1)===e.id&&(e.style.display="block");let t=e.querySelector(".overlay"),o=e.querySelector(".close_icon");e.addEventListener("click",n=>{let r=n.target;(r.contains(t)||r.contains(o))&&(e.style.display="none")})})})})};var r=()=>{const e=document.getElementById("totop"),t=document.querySelector(".header-main"),n=document.querySelector(".top-menu");window.addEventListener("scroll",()=>{document.documentElement.scrollTop>t.offsetHeight?e.style.display="block":e.style.display="none",n.getBoundingClientRect().top<=0&&document.body.clientWidth<768&&0!==document.documentElement.scrollTop?n.style.position="fixed":n.style.position="unset"}),e.addEventListener("click",e=>{e.preventDefault(),document.documentElement.scrollIntoView({block:"start",behavior:"smooth"})})};var l=()=>{const e=document.querySelector(".menu-button"),t=document.querySelector(".popup-menu"),n=()=>{document.body.clientWidth<768?e.style.display="block":e.style.display="none"};n(),window.addEventListener("resize",()=>{n()}),document.addEventListener("click",e=>{let n=e.target;n.closest(".menu-button")&&(t.style.display="flex"),(n.closest(".close-menu-btn")||n.closest(".scroll"))&&(t.style.display="none")})};var c=({main:e,sl:t,arrL:n,arrR:o})=>{const r=document.querySelector(e),l=r.querySelectorAll(t),c=r.querySelector(".slider-dots");let a,s=0,i=[];for(let e=0;e<l.length;e++){i.length=e;let t=document.createElement("li");t.classList.add("slider-dot"),c.appendChild(t),i.push(t)}let d=r.querySelectorAll(".slider-dot");d[0].classList.add("dot-active");const u=(e,t,n)=>{e[t].classList.remove(n)},m=(e,t,n)=>{e[t].classList.add(n)},p=()=>{u(l,s,"portfolio-item-active"),u(d,s,"dot-active"),s++,s>=l.length&&(s=0),m(l,s,"portfolio-item-active"),m(d,s,"dot-active")},f=(e=3e3)=>{a=setInterval(p,e)};r.addEventListener("click",e=>{e.preventDefault();let t=e.target;t.matches(".slider-arrow, .slider-dot")&&(u(l,s,"portfolio-item-active"),u(d,s,"dot-active"),t.matches(o)?s++:t.matches(n)?s--:t.matches(".slider-dot")&&d.forEach((e,n)=>{e===t&&(s=n)}),s>=l.length&&(s=0),s<0&&(s=l.length-1),m(l,s,"portfolio-item-active"),m(d,s,"dot-active"))}),r.addEventListener("mouseover",e=>{(e.target.matches(".slider-arrow")||e.target.matches(".slider-dot"))&&clearInterval(a)}),r.addEventListener("mouseout",e=>{(e.target.matches(".slider-arrow")||e.target.matches(".slider-dot"))&&f()}),f(3e3)};var a=()=>{const e=document.querySelector(".fixed-gift"),t=document.getElementById("gift");if(e){let n=t.querySelector(".overlay"),o=t.querySelector(".close_icon");document.addEventListener("click",()=>{let r=event.target;r.closest(".fixed-gift")&&(t.style.display="block",e.style.display="none"),(r.contains(n)||r.contains(o)||r.matches(".close-btn"))&&(t.style.display="none")})}};var s=()=>{const e=document.querySelectorAll("form"),t=document.querySelectorAll('[type="tel"]'),n=document.querySelectorAll('[name="name"]'),o=document.getElementById("thanks"),r=o.querySelector(".form-content");let l,c=0,a=o.querySelector(".overlay"),s=o.querySelector(".close_icon");document.addEventListener("click",()=>{let e=event.target;(e.contains(a)||e.contains(s)||e.matches(".close-btn"))&&(o.style.display="none")}),t.forEach(e=>{e.addEventListener("input",()=>{e.value=e.value.replace(/[^0-9+]/gi,"")})}),n.forEach(e=>{e.addEventListener("input",()=>{e.value=e.value.replace(/[^\s/а-яА-Яa]/,"")})});const i=document.createElement("img");let d=function(){l=requestAnimationFrame(d),c<500&&(c++,i.style.transform=`rotate(${3*c}deg)`)};e.forEach(e=>{e.addEventListener("submit",t=>{t.preventDefault(),e.appendChild(i),i.src="images/yin-yang.svg",l=requestAnimationFrame(d);const n=new FormData(e);let c={};n.forEach((e,t)=>{c[t]=e}),u(c).then(t=>{if(200!==t.status)throw new Error("status network not 200");cancelAnimationFrame(l),i.style.transform="unset";let n=e.querySelectorAll("input");n.forEach(e=>{"radio"!==e.type&&"hidden"!==e.type&&(e.value="")});if(setTimeout(()=>{i.remove(),n.forEach(e=>{e.classList.remove("success")})},3e3),"form4"===e.id||"form5"===e.id){e.parentNode.innerHTML='\n                        <h4>Спасибо!</h4>\n                        <p style="font-size: 20px; color: #ffffff; flex-basis: 60%; padding: 20px">\n                        Ваша заявка отправлена. <br> Мы с Вами свяжемся в ближайшее время!</p>\n                        '}else o.style.display="block"}).catch(t=>{if(cancelAnimationFrame(l),i.style.transform="unset",console.error(t),"form4"===e.id||"form5"===e.id){e.parentNode.innerHTML='\n                        <h4>Ошибка!</h4>\n                        <p style="font-size: 20px; color: #ffffff; flex-basis: 60%; padding: 20px">\n                        Ваша заявка не отправлена.</p>\n                        '}else o.style.display="block",r.innerHTML='\n                        <h4>Ошибка!</h4>\n                        <p>Ваша заявка не отправлена. <br> Заполните форму ещё раз, пожалуйста!</p>\n                        <button class="btn close-btn" wfd-id="216">OK</button>\n                        '})})});const u=e=>fetch("server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})};var i=()=>{const e=document.getElementById("card-calc");if(e){const t=document.querySelector(".time").querySelectorAll("input"),n=document.getElementById("card_leto_mozaika"),o=document.getElementById("price-total"),r=document.getElementById("promo"),l=["1999","9900","13900","19900"],c=["2999","14900","21900","24900"],a=()=>{let e=0;n.checked?t.forEach(t=>{t.checked&&"1"===t.value?e=l[0]:t.checked&&"6"===t.value?e=l[1]:t.checked&&"9"===t.value?e=l[2]:t.checked&&"12"===t.value&&(e=l[3])}):t.forEach(t=>{t.checked&&"1"===t.value?e=c[0]:t.checked&&"6"===t.value?e=c[1]:t.checked&&"9"===t.value?e=c[2]:t.checked&&"12"===t.value&&(e=c[3])});(({linear:e,draw:t,duration:n})=>{let o,r=performance.now();const l=c=>{o=requestAnimationFrame(l);let a=(c-r)/n;a>=1&&(a=1);let s=e(a);t(s),a>=1&&cancelAnimationFrame(o)};requestAnimationFrame(l)})({duration:1200,linear:e=>e,draw(t){"ТЕЛО2020"===r.value?o.textContent=Math.floor(t*e-t*e*30/100):(r.value="",o.textContent=Math.floor(t*e))}})};a(),e.addEventListener("change",e=>{e.target.matches("input")&&a()})}};(()=>{const e=document.querySelector(".club-list");window.addEventListener("click",t=>{let n=t.target;(!e.contains(n)&&e.classList.contains("active")||n.closest(".club-select")&&!n.closest(".club-list")||n.matches(".club-list a"))&&e.classList.toggle("active")})})(),o(),r(),l(),c({main:".main-slider",sl:".slide",dt:".slider-dots"}),c({main:".gallery-slider",sl:".slide",dt:".slider-dots",arrL:"#arrow-left",arrR:"#arrow-right"}),a(),s(),i()}]);